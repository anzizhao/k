!function(t){function e(r){if(a[r])return a[r].exports;var o=a[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var a={};return e.m=t,e.c=a,e.p="/js/dist/",e(0)}([function(t,e,a){t.exports=a(4)},function(t,e){function a(t,e){this.id=t,this.sn=e,this.data=null}function r(){gData.ares||(gData.ares=new a(partner_id,employee_sn)),gData.ares.init()}a.prototype.init=function(){this.data?this.render():this.getData()},a.prototype.getData=function(){var t="//localhost:6330/index.php",e={controller:"employee",action:"card"},a=this;$.getJSON(t,e,function(t){0==t.error&&(a.transformData(t.data),a.render())})},a.prototype.transformData=function(t){t.stars=[];var e;for(e=0;e<t.star_num;e++)t.stars.push(e);this.data=t},a.prototype.render=function(){if(this.data){var t=template("ares",this.data);document.getElementById("center").innerHTML=t}},t.exports=r},function(t,e){function a(t,e){this.id=t,this.sn=e,this.aresData=null,this.scoreData=null}function r(){gData.aresScore||(gData.aresScore=new a(partner_id,employee_sn)),gData.aresScore.init()}a.prototype.hasData=function(){return this.aresData&&this.scoreData},a.prototype.init=function(){this.hasData()?this.render():this.getData()},a.prototype.getData=function(){function t(){r.ares&&r.score&&o.render()}var e="//localhost:6330/index.php",a={controller:"employee",action:"card"},r={ares:!1,score:!1},o=this;$.getJSON(e,a,function(e){0==e.error&&(o.transformData(e.data),r.ares=!0,t())}),a.action="myScores",$.getJSON(e,a,function(e){0==e.error&&(o.scoreData=e.data,r.score=!0,t())})},a.prototype.transformData=function(t){t.stars=[];var e;for(e=0;e<t.star_num;e++)t.stars.push(e);this.aresData=t},a.prototype.render=function(){if(this.hasData()){var t,e={};for(t in this.aresData)e[t]=this.aresData[t];for(t in this.scoreData)e[t]=this.scoreData[t];var a=template("aresScore",e);document.getElementById("center").innerHTML=a}},t.exports=r},function(t,e){function a(t,e){this.id=t,this.sn=e,this.data=null,this.type="top"}function r(){gData.aresStore||(gData.aresStore=new a(partner_id,employee_sn)),gData.aresStore.init()}a.prototype.TYPE={top:"我帮助的",last:"需要帮助的"},a.prototype.hasData=function(){return this.data},a.prototype.init=function(){this.hasData()?this.render():this.getData()},a.prototype.getData=function(){var t="//localhost:6330/index.php",e={controller:"employee",action:"myStores",partner_id:this.id,employee_sn:this.sn,type:this.type},a=this;$.getJSON(t,e,function(t){0==t.error&&(a.data=t.data,a.data._view={type:a.TYPE,currentType:a.TYPE[a.type]},a.render())})},a.prototype.transformData=function(t){},a.prototype.render=function(){if(this.hasData()){var t=this.data,e=template("aresStore",t);document.getElementById("center").innerHTML=e;var a=this;$(".dropdown").click(function(t){t.stopPropagation(),$(".j-dropdown").hide(),$(this).next(".j-dropdown").show()}),$(".j-dropdown li").click(function(t){t.stopPropagation();var e=$(this).text();$("#js-title").text(e),$(".j-dropdown").hide(),a.type!==this.dataset.type&&(a.type=this.dataset.type,a.getData())}),$(document).click(function(t){t.stopPropagation(),$(".j-dropdown").hide()})}},t.exports=r},function(t,e,a){var r=a(1),o=a(2),n=a(3),i={ares:r,aresScore:o,aresStore:n},s=Router(i);s.init(["/ares"])}]);
//# sourceMappingURL=ares.bundle.js.map