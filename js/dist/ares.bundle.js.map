{"version":3,"sources":["webpack:///ares.bundle.js","webpack:///webpack/bootstrap 89735ce2b8bfa2cbd3af","webpack:///./js/ares/ares.js","webpack:///./js/ares/aresScore.js","webpack:///./js/ares/aresStore.js","webpack:///./js/ares/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","Ares","partnerId","employeeSn","this","sn","data","aresRouteEntry","gData","ares","partner_id","employee_sn","init","e","alert","message","stack","prototype","render","getData","url","URL_PREFIX","urlObj","controller","action","mv","$","getJSON","error","transformData","stars","i","star_num","push","html","template","document","getElementById","innerHTML","AresScore","aresData","scoreData","aresScoreRouteEntry","aresScore","hasData","shouldRender","apiStatus","score","key","AresStore","type","aresStoreRouteEntry","aresStore","TYPE","top","last","_view","currentType","click","stopPropagation","hide","next","show","text","dataset","routes","router","Router"],"mappings":"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","file":"ares.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/js/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(4);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tfunction Ares(partnerId, employeeSn){\n\t    this.id = partnerId;\n\t    this.sn = employeeSn;\n\t    this.data = null\n\t}\n\t\n\tAres.prototype.init = function(){\n\t    if( ! this.data ) {\n\t        this.getData()        \n\t    } else {\n\t        this.render() \n\t    }\n\t}\n\t\n\t\n\tAres.prototype.getData = function(){\n\t    var url = URL_PREFIX + '/index.php';\n\t    var urlObj = {\n\t        controller: 'employee', \n\t        action: 'card'\n\t    }\n\t    var mv = this\n\t    $.getJSON( url, urlObj, function(data){\n\t        if(data.error == 0){\n\t            mv.transformData( data.data  )\n\t            mv.render() \n\t        }\n\t    })\n\t}\n\t\n\tAres.prototype.transformData = function(data){\n\t    data.stars = [] \n\t    var i \n\t    for(i=0; i<data.star_num; i++) {\n\t        data.stars.push(i) \n\t    }\n\t    this.data = data\n\t}\n\t\n\tAres.prototype.render = function(){\n\t    if (!this.data ) {\n\t        return  \n\t    }\n\t    var html = template('ares', this.data  );\n\t    document.getElementById('center').innerHTML = html;\n\t}\n\t\n\t\n\tfunction aresRouteEntry (){\n\t    try{\n\t        if( ! gData.ares ) {\n\t            gData.ares =  new Ares(partner_id, employee_sn)\n\t        }\n\t        gData.ares.init()\n\t\n\t    } catch(e) {\n\t        alert(e.message + '  ' + e.stack) \n\t    }\n\t}\n\t\n\tmodule.exports = aresRouteEntry\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tfunction AresScore(partnerId, employeeSn){\n\t    this.id = partnerId;\n\t    this.sn = employeeSn;\n\t    this.aresData = null\n\t    this.scoreData = null\n\t}\n\t\n\tAresScore.prototype.hasData = function(){\n\t    return this.aresData && this.scoreData \n\t}\n\t\n\tAresScore.prototype.init = function(){\n\t    if( ! this.hasData() ) {\n\t        this.getData()        \n\t    } else {\n\t        this.render() \n\t    }\n\t}\n\t\n\t\n\tAresScore.prototype.getData = function(){\n\t    var url = URL_PREFIX + '/index.php';\n\t    var urlObj = {\n\t        controller: 'employee', \n\t        action: 'card'\n\t    }\n\t    var apiStatus = {\n\t        ares: false,\n\t        score: false, \n\t    }\n\t\n\t    var mv = this\n\t    $.getJSON( url, urlObj, function(data){\n\t        if(data.error == 0){\n\t            mv.transformData( data.data  )\n\t            apiStatus.ares = true\n\t            shouldRender()\n\t        }\n\t    })\n\t    urlObj.action = 'myScores'\n\t    $.getJSON( url, urlObj, function(data){\n\t        if(data.error == 0){\n\t            mv.scoreData = data.data\n\t            apiStatus.score = true\n\t            shouldRender()\n\t        }\n\t    })\n\t\n\t    function shouldRender(){\n\t        if( apiStatus.ares && apiStatus.score )  {\n\t            mv.render() \n\t        }\n\t    }\n\t}\n\t\n\tAresScore.prototype.transformData = function(data){\n\t    data.stars = [] \n\t    var i \n\t    for(i=0; i<data.star_num; i++) {\n\t        data.stars.push(i) \n\t    }\n\t    this.aresData = data\n\t}\n\t\n\tAresScore.prototype.render = function(){\n\t    if (!this.hasData() ) {\n\t        return  \n\t    }\n\t    var data = {}\n\t    var key \n\t    for( key in this.aresData ) {\n\t        data[key] = this.aresData[key]\n\t    }\n\t    for( key in this.scoreData ) {\n\t        data[key] = this.scoreData[key]\n\t    }\n\t\n\t    var html = template('aresScore', data);\n\t    document.getElementById('center').innerHTML = html;\n\t}\n\t\n\tfunction aresScoreRouteEntry (){\n\t    if( ! gData.aresScore ) {\n\t        gData.aresScore =  new AresScore(partner_id, employee_sn)\n\t    }\n\t    gData.aresScore.init()\n\t}\n\tmodule.exports = aresScoreRouteEntry \n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tfunction AresStore(partnerId, employeeSn){\n\t    this.id = partnerId;\n\t    this.sn = employeeSn;\n\t    this.data = null;\n\t    this.type = 'top';   // 0-top 1-last \n\t}\n\t\n\tAresStore.prototype.TYPE={\n\t    'top':  '我帮助的',\n\t    'last': '需要帮助的'\n\t}; \n\t\n\tAresStore.prototype.hasData = function(){\n\t    return this.data\n\t}\n\t\n\tAresStore.prototype.init = function(){\n\t    if( ! this.hasData() ) {\n\t        this.getData()        \n\t    } else {\n\t        this.render() \n\t    }\n\t}\n\t\n\t\n\tAresStore.prototype.getData = function(){\n\t    var url = URL_PREFIX + '/index.php';\n\t\n\t    var urlObj = {\n\t        controller: 'employee', \n\t        action: 'myStores',\n\t        partner_id : this.id,\n\t        employee_sn : this.sn,\n\t        type: this.type \n\t    }\n\t\n\t    var mv = this\n\t    $.getJSON( url, urlObj, function(data){\n\t        if(data.error == 0){\n\t            //mv.transformData( data.data  )\n\t            mv.data = data.data\n\t            mv.data._view =  {\n\t                type: mv.TYPE, \n\t                currentType:  mv.TYPE[ mv.type ]\n\t            }\n\t            mv.render() \n\t        }\n\t    })\n\t}\n\t\n\tAresStore.prototype.transformData = function(data){\n\t}\n\t\n\tAresStore.prototype.render = function(){\n\t    if (!this.hasData() ) {\n\t        return  \n\t    }\n\t    var data = this.data\n\t    var html = template('aresStore', data);\n\t    document.getElementById('center').innerHTML = html;\n\t    \n\t\n\t    var mv = this \n\t    $(\".dropdown\").click(function(e){\n\t        e.stopPropagation();\n\t        $('.j-dropdown').hide();\n\t        $(this).next(\".j-dropdown\").show();\n\t    });\n\t\n\t    $('.j-dropdown li').click(function(e){\n\t        e.stopPropagation();\n\t        //$(this).parents(\".j-dropdown\").prev(\".dropdown\").text($(this).text());\n\t        //$(this).parents(\".dropdown\").text( $(this).text() );\n\t        var text =  $(this).text() \n\t        $('#js-title').text(text);\n\t        $('.j-dropdown').hide();\n\t\n\t        if( mv.type !== this.dataset.type ) {\n\t            mv.type = this.dataset.type;\n\t            mv.getData() \n\t        }\n\t    });\n\t\n\t    $(document).click(function(e){\n\t        e.stopPropagation();\n\t        $('.j-dropdown').hide();\n\t    });\n\t\n\t\n\t}\n\t\n\tfunction aresStoreRouteEntry (){\n\t    if( ! gData.aresStore ) {\n\t        gData.aresStore =  new AresStore(partner_id, employee_sn)\n\t    }\n\t    gData.aresStore.init()\n\t}\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tmodule.exports = aresStoreRouteEntry;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tvar aresRouteEntry = __webpack_require__(1)\n\tvar aresScoreRouteEntry  = __webpack_require__(2)\n\tvar aresStoreRouteEntry = __webpack_require__(3)\n\t\n\t\n\t\n\ttry{\n\t    // 路由配置\n\t    var routes = {\n\t        ares: aresRouteEntry,\n\t        aresScore: aresScoreRouteEntry,\n\t        aresStore: aresStoreRouteEntry,\n\t    }\n\t\n\t    var router = Router(routes);\n\t    router.init(['/ares']);\n\t\n\t} catch(e) {\n\t    alert(e.message + '  ' + e.stack) \n\t}\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** ares.bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 89735ce2b8bfa2cbd3af\n **/","function Ares(partnerId, employeeSn){\n    this.id = partnerId;\n    this.sn = employeeSn;\n    this.data = null\n}\n\nAres.prototype.init = function(){\n    if( ! this.data ) {\n        this.getData()        \n    } else {\n        this.render() \n    }\n}\n\n\nAres.prototype.getData = function(){\n    var url = URL_PREFIX + '/index.php';\n    var urlObj = {\n        controller: 'employee', \n        action: 'card'\n    }\n    var mv = this\n    $.getJSON( url, urlObj, function(data){\n        if(data.error == 0){\n            mv.transformData( data.data  )\n            mv.render() \n        }\n    })\n}\n\nAres.prototype.transformData = function(data){\n    data.stars = [] \n    var i \n    for(i=0; i<data.star_num; i++) {\n        data.stars.push(i) \n    }\n    this.data = data\n}\n\nAres.prototype.render = function(){\n    if (!this.data ) {\n        return  \n    }\n    var html = template('ares', this.data  );\n    document.getElementById('center').innerHTML = html;\n}\n\n\nfunction aresRouteEntry (){\n    try{\n        if( ! gData.ares ) {\n            gData.ares =  new Ares(partner_id, employee_sn)\n        }\n        gData.ares.init()\n\n    } catch(e) {\n        alert(e.message + '  ' + e.stack) \n    }\n}\n\nmodule.exports = aresRouteEntry\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ares/ares.js\n ** module id = 1\n ** module chunks = 0\n **/","function AresScore(partnerId, employeeSn){\n    this.id = partnerId;\n    this.sn = employeeSn;\n    this.aresData = null\n    this.scoreData = null\n}\n\nAresScore.prototype.hasData = function(){\n    return this.aresData && this.scoreData \n}\n\nAresScore.prototype.init = function(){\n    if( ! this.hasData() ) {\n        this.getData()        \n    } else {\n        this.render() \n    }\n}\n\n\nAresScore.prototype.getData = function(){\n    var url = URL_PREFIX + '/index.php';\n    var urlObj = {\n        controller: 'employee', \n        action: 'card'\n    }\n    var apiStatus = {\n        ares: false,\n        score: false, \n    }\n\n    var mv = this\n    $.getJSON( url, urlObj, function(data){\n        if(data.error == 0){\n            mv.transformData( data.data  )\n            apiStatus.ares = true\n            shouldRender()\n        }\n    })\n    urlObj.action = 'myScores'\n    $.getJSON( url, urlObj, function(data){\n        if(data.error == 0){\n            mv.scoreData = data.data\n            apiStatus.score = true\n            shouldRender()\n        }\n    })\n\n    function shouldRender(){\n        if( apiStatus.ares && apiStatus.score )  {\n            mv.render() \n        }\n    }\n}\n\nAresScore.prototype.transformData = function(data){\n    data.stars = [] \n    var i \n    for(i=0; i<data.star_num; i++) {\n        data.stars.push(i) \n    }\n    this.aresData = data\n}\n\nAresScore.prototype.render = function(){\n    if (!this.hasData() ) {\n        return  \n    }\n    var data = {}\n    var key \n    for( key in this.aresData ) {\n        data[key] = this.aresData[key]\n    }\n    for( key in this.scoreData ) {\n        data[key] = this.scoreData[key]\n    }\n\n    var html = template('aresScore', data);\n    document.getElementById('center').innerHTML = html;\n}\n\nfunction aresScoreRouteEntry (){\n    if( ! gData.aresScore ) {\n        gData.aresScore =  new AresScore(partner_id, employee_sn)\n    }\n    gData.aresScore.init()\n}\nmodule.exports = aresScoreRouteEntry \n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ares/aresScore.js\n ** module id = 2\n ** module chunks = 0\n **/","function AresStore(partnerId, employeeSn){\n    this.id = partnerId;\n    this.sn = employeeSn;\n    this.data = null;\n    this.type = 'top';   // 0-top 1-last \n}\n\nAresStore.prototype.TYPE={\n    'top':  '我帮助的',\n    'last': '需要帮助的'\n}; \n\nAresStore.prototype.hasData = function(){\n    return this.data\n}\n\nAresStore.prototype.init = function(){\n    if( ! this.hasData() ) {\n        this.getData()        \n    } else {\n        this.render() \n    }\n}\n\n\nAresStore.prototype.getData = function(){\n    var url = URL_PREFIX + '/index.php';\n\n    var urlObj = {\n        controller: 'employee', \n        action: 'myStores',\n        partner_id : this.id,\n        employee_sn : this.sn,\n        type: this.type \n    }\n\n    var mv = this\n    $.getJSON( url, urlObj, function(data){\n        if(data.error == 0){\n            //mv.transformData( data.data  )\n            mv.data = data.data\n            mv.data._view =  {\n                type: mv.TYPE, \n                currentType:  mv.TYPE[ mv.type ]\n            }\n            mv.render() \n        }\n    })\n}\n\nAresStore.prototype.transformData = function(data){\n}\n\nAresStore.prototype.render = function(){\n    if (!this.hasData() ) {\n        return  \n    }\n    var data = this.data\n    var html = template('aresStore', data);\n    document.getElementById('center').innerHTML = html;\n    \n\n    var mv = this \n    $(\".dropdown\").click(function(e){\n        e.stopPropagation();\n        $('.j-dropdown').hide();\n        $(this).next(\".j-dropdown\").show();\n    });\n\n    $('.j-dropdown li').click(function(e){\n        e.stopPropagation();\n        //$(this).parents(\".j-dropdown\").prev(\".dropdown\").text($(this).text());\n        //$(this).parents(\".dropdown\").text( $(this).text() );\n        var text =  $(this).text() \n        $('#js-title').text(text);\n        $('.j-dropdown').hide();\n\n        if( mv.type !== this.dataset.type ) {\n            mv.type = this.dataset.type;\n            mv.getData() \n        }\n    });\n\n    $(document).click(function(e){\n        e.stopPropagation();\n        $('.j-dropdown').hide();\n    });\n\n\n}\n\nfunction aresStoreRouteEntry (){\n    if( ! gData.aresStore ) {\n        gData.aresStore =  new AresStore(partner_id, employee_sn)\n    }\n    gData.aresStore.init()\n}\n\n\n\n\n\n\n\nmodule.exports = aresStoreRouteEntry;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ares/aresStore.js\n ** module id = 3\n ** module chunks = 0\n **/","\nvar aresRouteEntry = require('./ares')\nvar aresScoreRouteEntry  = require('./aresScore')\nvar aresStoreRouteEntry = require('./aresStore')\n\n\n\ntry{\n    // 路由配置\n    var routes = {\n        ares: aresRouteEntry,\n        aresScore: aresScoreRouteEntry,\n        aresStore: aresStoreRouteEntry,\n    }\n\n    var router = Router(routes);\n    router.init(['/ares']);\n\n} catch(e) {\n    alert(e.message + '  ' + e.stack) \n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ares/index.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}